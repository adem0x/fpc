#
#   Makefile.fpc for Free Pascal libgbafpc 2.x.y Examples
#

[target]
loaders=$(DATA_FILES)
programs=pcx_view

[require]
packages=libgbafpc
tools=bin2s

[install]
fpcpackage=y

[default]
cpu=arm
target=gba
fpcdir=../../../../..

[clean]
files=*.elf data/*.o data/*.s
units=*

[prerules]
DATA_FILES=data/splash.pcx

[rules]
.NOTPARALLEL:
ifneq ($(BIN2S),)
$(DATA_FILES).o:
        $(BIN2S) $(DATA_FILES) > $(DATA_FILES).s
        $(AS) -o $(DATA_FILES).o $(DATA_FILES).s
endif
